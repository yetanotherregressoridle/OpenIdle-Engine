(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const _t=!1,pt=(e,t)=>e===t,K=Symbol("solid-proxy"),he=Symbol("solid-track"),ge={equals:pt};let Ze=rt;const Y=1,me=2,Qe={owned:null,cleanups:null,context:null,owner:null};var _=null;let Ae=null,xt=null,p=null,C=null,B=null,Ie=0;function Q(e,t){const n=p,r=_,i=e.length===0,o=t===void 0?r:t,l=i?Qe:{owned:null,cleanups:null,context:o?o.context:null,owner:o},a=i?e:()=>e(()=>j(()=>oe(l)));_=l,p=null;try{return ee(a,!0)}finally{p=n,_=r}}function X(e,t){t=t?Object.assign({},ge,t):ge;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),nt(n,i));return[tt.bind(n),r]}function $(e,t,n){const r=je(e,t,!1,Y);se(r)}function qe(e,t,n){Ze=Ct;const r=je(e,t,!1,Y);r.user=!0,B?B.push(r):se(r)}function M(e,t,n){n=n?Object.assign({},ge,n):ge;const r=je(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,se(r),tt.bind(r)}function Et(e){return ee(e,!1)}function j(e){if(p===null)return e();const t=p;p=null;try{return e()}finally{p=t}}function $t(e){qe(()=>j(e))}function Ne(e){return _===null||(_.cleanups===null?_.cleanups=[e]:_.cleanups.push(e)),e}function De(){return p}function wt(e,t){const n=Symbol("context");return{id:n,Provider:Ot(n),defaultValue:e}}function It(e){let t;return _&&_.context&&(t=_.context[e.id])!==void 0?t:e.defaultValue}function et(e){const t=M(e),n=M(()=>Oe(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function tt(){if(this.sources&&this.state)if(this.state===Y)se(this);else{const e=C;C=null,ee(()=>be(this),!1),C=e}if(p){const e=this.observers?this.observers.length:0;p.sources?(p.sources.push(this),p.sourceSlots.push(e)):(p.sources=[this],p.sourceSlots=[e]),this.observers?(this.observers.push(p),this.observerSlots.push(p.sources.length-1)):(this.observers=[p],this.observerSlots=[p.sources.length-1])}return this.value}function nt(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&ee(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],l=Ae&&Ae.running;l&&Ae.disposed.has(o),(l?!o.tState:!o.state)&&(o.pure?C.push(o):B.push(o),o.observers&&it(o)),l||(o.state=Y)}if(C.length>1e6)throw C=[],new Error},!1)),t}function se(e){if(!e.fn)return;oe(e);const t=Ie;St(e,e.value,t)}function St(e,t,n){let r;const i=_,o=p;p=_=e;try{r=e.fn(t)}catch(l){return e.pure&&(e.state=Y,e.owned&&e.owned.forEach(oe),e.owned=null),e.updatedAt=n+1,ot(l)}finally{p=o,_=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?nt(e,r):e.value=r,e.updatedAt=n)}function je(e,t,n,r=Y,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:_,context:_?_.context:null,pure:n};return _===null||_!==Qe&&(_.owned?_.owned.push(o):_.owned=[o]),o}function ye(e){if(e.state===0)return;if(e.state===me)return be(e);if(e.suspense&&j(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ie);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Y)se(e);else if(e.state===me){const r=C;C=null,ee(()=>be(e,t[0]),!1),C=r}}function ee(e,t){if(C)return e();let n=!1;t||(C=[]),B?n=!0:B=[],Ie++;try{const r=e();return At(n),r}catch(r){n||(B=null),C=null,ot(r)}}function At(e){if(C&&(rt(C),C=null),e)return;const t=B;B=null,t.length&&ee(()=>Ze(t),!1)}function rt(e){for(let t=0;t<e.length;t++)ye(e[t])}function Ct(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:ye(r)}for(t=0;t<n;t++)ye(e[t])}function be(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===Y?r!==t&&(!r.updatedAt||r.updatedAt<Ie)&&ye(r):i===me&&be(r,t)}}}function it(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=me,n.pure?C.push(n):B.push(n),n.observers&&it(n))}}function oe(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),l=n.observerSlots.pop();r<i.length&&(o.sourceSlots[l]=r,i[r]=o,n.observerSlots[r]=l)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)oe(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)oe(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Dt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ot(e,t=_){throw Dt(e)}function Oe(e){if(typeof e=="function"&&!e.length)return Oe(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=Oe(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Ot(e,t){return function(r){let i;return $(()=>i=j(()=>(_.context={..._.context,[e]:r.value},et(()=>r.children))),void 0),i}}const Me=Symbol("fallback");function ve(e){for(let t=0;t<e.length;t++)e[t]()}function Mt(e,t,n={}){let r=[],i=[],o=[],l=0,a=t.length>1?[]:null;return Ne(()=>ve(o)),()=>{let s=e()||[],u=s.length,f,c;return s[he],j(()=>{let v,w,I,k,P,A,S,N,U;if(u===0)l!==0&&(ve(o),o=[],r=[],i=[],l=0,a&&(a=[])),n.fallback&&(r=[Me],i[0]=Q(d=>(o[0]=d,n.fallback())),l=1);else if(l===0){for(i=new Array(u),c=0;c<u;c++)r[c]=s[c],i[c]=Q(m);l=u}else{for(I=new Array(u),k=new Array(u),a&&(P=new Array(u)),A=0,S=Math.min(l,u);A<S&&r[A]===s[A];A++);for(S=l-1,N=u-1;S>=A&&N>=A&&r[S]===s[N];S--,N--)I[N]=i[S],k[N]=o[S],a&&(P[N]=a[S]);for(v=new Map,w=new Array(N+1),c=N;c>=A;c--)U=s[c],f=v.get(U),w[c]=f===void 0?-1:f,v.set(U,c);for(f=A;f<=S;f++)U=r[f],c=v.get(U),c!==void 0&&c!==-1?(I[c]=i[f],k[c]=o[f],a&&(P[c]=a[f]),c=w[c],v.set(U,c)):o[f]();for(c=A;c<u;c++)c in I?(i[c]=I[c],o[c]=k[c],a&&(a[c]=P[c],a[c](c))):i[c]=Q(m);i=i.slice(0,l=u),r=s.slice(0)}return i});function m(v){if(o[c]=v,a){const[w,I]=X(c);return a[c]=I,t(s[c],w)}return t(s[c])}}}function Tt(e,t,n={}){let r=[],i=[],o=[],l=[],a=0,s;return Ne(()=>ve(o)),()=>{const u=e()||[],f=u.length;return u[he],j(()=>{if(f===0)return a!==0&&(ve(o),o=[],r=[],i=[],a=0,l=[]),n.fallback&&(r=[Me],i[0]=Q(m=>(o[0]=m,n.fallback())),a=1),i;for(r[0]===Me&&(o[0](),o=[],r=[],i=[],a=0),s=0;s<f;s++)s<r.length&&r[s]!==u[s]?l[s](()=>u[s]):s>=r.length&&(i[s]=Q(c));for(;s<r.length;s++)o[s]();return a=l.length=o.length=f,r=u.slice(0),i=i.slice(0,a)});function c(m){o[s]=m;const[v,w]=X(u[s]);return l[s]=w,t(v,s)}}}function h(e,t){return j(()=>e(t||{}))}const at=e=>`Stale read from <${e}>.`;function Te(e){const t="fallback"in e&&{fallback:()=>e.fallback};return M(Mt(()=>e.each,e.children,t||void 0))}function ue(e){const t="fallback"in e&&{fallback:()=>e.fallback};return M(Tt(()=>e.each,e.children,t||void 0))}function O(e){const t=e.keyed,n=M(()=>e.when,void 0,void 0),r=t?n:M(n,void 0,{equals:(i,o)=>!i==!o});return M(()=>{const i=r();if(i){const o=e.children;return typeof o=="function"&&o.length>0?j(()=>o(t?i:()=>{if(!j(r))throw at("Show");return n()})):o}return e.fallback},void 0,void 0)}function kt(e){const t=et(()=>e.children),n=M(()=>{const r=t(),i=Array.isArray(r)?r:[r];let o=()=>{};for(let l=0;l<i.length;l++){const a=l,s=i[l],u=o,f=M(()=>u()?void 0:s.when,void 0,void 0),c=s.keyed?f:M(f,void 0,{equals:(m,v)=>!m==!v});o=()=>u()||(c()?[a,f,s]:void 0)}return o});return M(()=>{const r=n()();if(!r)return e.fallback;const[i,o,l]=r,a=l.children;return typeof a=="function"&&a.length>0?j(()=>a(l.keyed?o():()=>{if(j(n)()?.[0]!==i)throw at("Match");return o()})):a},void 0,void 0)}function fe(e){return e}const F=e=>M(()=>e());function Pt(e,t,n){let r=n.length,i=t.length,o=r,l=0,a=0,s=t[i-1].nextSibling,u=null;for(;l<i||a<o;){if(t[l]===n[a]){l++,a++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===l){const f=o<r?a?n[a-1].nextSibling:n[o-a]:s;for(;a<o;)e.insertBefore(n[a++],f)}else if(o===a)for(;l<i;)(!u||!u.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[o-1]&&n[a]===t[i-1]){const f=t[--i].nextSibling;e.insertBefore(n[a++],t[l++].nextSibling),e.insertBefore(n[--o],f),t[i]=n[o]}else{if(!u){u=new Map;let c=a;for(;c<o;)u.set(n[c],c++)}const f=u.get(t[l]);if(f!=null)if(a<f&&f<o){let c=l,m=1,v;for(;++c<i&&c<o&&!((v=u.get(t[c]))==null||v!==f+m);)m++;if(m>f-a){const w=t[l];for(;a<f;)e.insertBefore(n[a++],w)}else e.replaceChild(n[a++],t[l++])}else l++;else t[l++].remove()}}}const Ke="_$DX_DELEGATE";function Nt(e,t,n,r={}){let i;return Q(o=>{i=o,t===document?e():g(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function b(e,t,n,r){let i;const o=()=>{const a=document.createElement("template");return a.innerHTML=e,a.content.firstChild},l=()=>(i||(i=o())).cloneNode(!0);return l.cloneNode=l,l}function ce(e,t=window.document){const n=t[Ke]||(t[Ke]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,Ut))}}function jt(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function y(e,t){t==null?e.removeAttribute("class"):e.className=t}function Lt(e,t,n,r){Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n}function Rt(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function g(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return _e(e,t,r,n);$(i=>_e(e,t(),i,n),r)}function Ut(e){let t=e.target;const n=`$$${e.type}`,r=e.target,i=e.currentTarget,o=s=>Object.defineProperty(e,"target",{configurable:!0,value:s}),l=()=>{const s=t[n];if(s&&!t.disabled){const u=t[`${n}Data`];if(u!==void 0?s.call(t,u,e):s.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},a=()=>{for(;l()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const s=e.composedPath();o(s[0]);for(let u=0;u<s.length-2&&(t=s[u],!!l());u++){if(t._$host){t=t._$host,a();break}if(t.parentNode===i)break}}else a();o(r)}function _e(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,l=r!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(l){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=W(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=W(e,n,r);else{if(o==="function")return $(()=>{let a=t();for(;typeof a=="function";)a=a();n=_e(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],s=n&&Array.isArray(n);if(ke(a,t,n,i))return $(()=>n=_e(e,a,n,r,!0)),()=>n;if(a.length===0){if(n=W(e,n,r),l)return n}else s?n.length===0?Xe(e,a,r):Pt(e,n,a):(n&&W(e),Xe(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=W(e,n,r,t);W(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function ke(e,t,n,r){let i=!1;for(let o=0,l=t.length;o<l;o++){let a=t[o],s=n&&n[e.length],u;if(!(a==null||a===!0||a===!1))if((u=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))i=ke(e,a,s)||i;else if(u==="function")if(r){for(;typeof a=="function";)a=a();i=ke(e,Array.isArray(a)?a:[a],Array.isArray(s)?s:[s])||i}else e.push(a),i=!0;else{const f=String(a);s&&s.nodeType===3&&s.data===f?e.push(s):e.push(document.createTextNode(f))}}return i}function Xe(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function W(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let l=t.length-1;l>=0;l--){const a=t[l];if(i!==a){const s=a.parentNode===e;!o&&!l?s?e.replaceChild(i,a):e.insertBefore(i,n):s&&a.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}const Gt="_App_4fbln_1",Vt="_main_container_4fbln_13",Ft="_tab_content_4fbln_28",Bt="_logs_4fbln_39",Ht="_stats_4fbln_52",zt="_tab_nav_4fbln_66",Yt="_tab_button_4fbln_78",Kt="_tab_active_4fbln_97",Xt="_header_4fbln_113",D={App:Gt,main_container:Vt,tab_content:Ft,logs:Bt,stats:Ht,tab_nav:zt,tab_button:Yt,tab_active:Kt,header:Xt},Pe=Symbol("store-raw"),q=Symbol("store-node"),V=Symbol("store-has"),lt=Symbol("store-self");function st(e){let t=e[K];if(!t&&(Object.defineProperty(e,K,{value:t=new Proxy(e,Zt)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,o=n.length;i<o;i++){const l=n[i];r[l].get&&Object.defineProperty(e,l,{enumerable:r[l].enumerable,get:r[l].get.bind(t)})}}return t}function pe(e){let t;return e!=null&&typeof e=="object"&&(e[K]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function ae(e,t=new Set){let n,r,i,o;if(n=e!=null&&e[Pe])return n;if(!pe(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let l=0,a=e.length;l<a;l++)i=e[l],(r=ae(i,t))!==i&&(e[l]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const l=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let s=0,u=l.length;s<u;s++)o=l[s],!a[o].get&&(i=e[o],(r=ae(i,t))!==i&&(e[o]=r))}return e}function xe(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function le(e,t,n){if(e[t])return e[t];const[r,i]=X(n,{equals:!1,internal:!0});return r.$=i,e[t]=r}function Wt(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===K||t===q||(delete n.value,delete n.writable,n.get=()=>e[K][t]),n}function ut(e){De()&&le(xe(e,q),lt)()}function Jt(e){return ut(e),Reflect.ownKeys(e)}const Zt={get(e,t,n){if(t===Pe)return e;if(t===K)return n;if(t===he)return ut(e),n;const r=xe(e,q),i=r[t];let o=i?i():e[t];if(t===q||t===V||t==="__proto__")return o;if(!i){const l=Object.getOwnPropertyDescriptor(e,t);De()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(l&&l.get)&&(o=le(r,t,o)())}return pe(o)?st(o):o},has(e,t){return t===Pe||t===K||t===he||t===q||t===V||t==="__proto__"?!0:(De()&&le(xe(e,V),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Jt,getOwnPropertyDescriptor:Wt};function Ee(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],o=e.length;n===void 0?(delete e[t],e[V]&&e[V][t]&&i!==void 0&&e[V][t].$()):(e[t]=n,e[V]&&e[V][t]&&i===void 0&&e[V][t].$());let l=xe(e,q),a;if((a=le(l,t,i))&&a.$(()=>n),Array.isArray(e)&&e.length!==o){for(let s=e.length;s<o;s++)(a=l[s])&&a.$();(a=le(l,"length",o))&&a.$(e.length)}(a=l[lt])&&a.$()}function ct(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];Ee(e,i,t[i])}}function Qt(e,t){if(typeof t=="function"&&(t=t(e)),t=ae(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&Ee(e,n,i)}Ee(e,"length",r)}else ct(e,t)}function ie(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const l=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let s=0;s<r.length;s++)ie(e,[r[s]].concat(t),n);return}else if(a&&l==="function"){for(let s=0;s<e.length;s++)r(e[s],s)&&ie(e,[s].concat(t),n);return}else if(a&&l==="object"){const{from:s=0,to:u=e.length-1,by:f=1}=r;for(let c=s;c<=u;c+=f)ie(e,[c].concat(t),n);return}else if(t.length>1){ie(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let o=t[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=ae(o),r===void 0||pe(i)&&pe(o)&&!Array.isArray(o)?ct(i,o):Ee(e,r,o))}function qt(...[e,t]){const n=ae(e||{}),r=Array.isArray(n),i=st(n);function o(...l){Et(()=>{r&&l.length===1?Qt(n,l[0]):ie(n,l)})}return[i,o]}const E="player",en="actions",tn=[{id:"days",name:"Days",type:"basic",category:"loop",baseValue:5,baseMax:10,description:"Days",wholeNumbers:!0,resetOnLoop:!0},{id:"regressions",name:"Regressions",type:"basic",category:"loop",baseValue:0,baseMax:-1,description:"Number of times you have regressed.",wholeNumbers:!0,hidden:!0,resetOnLoop:!1}],nn=Object.freeze(Object.defineProperty({__proto__:null,RESOURCES:tn},Symbol.toStringTag,{value:"Module"})),rn=[{id:"first",name:"Defend",type:"combat",category:"loop",order:"random",enemies:["slime"],numberOfEnemies:1,completionMessage:"You have defended",globalCompletionEffects:[{type:"increase_value",itemID:"mana_shard_0",amount:1},{type:"increase_value",resourceID:"days",amount:1}],unitCompletionEffects:[],failureMessage:"You have failed to defend",globalFailureEffects:[{type:"increase_value",resourceID:"days",amount:1},{type:"enable_meta_progression",metaProgressionID:"lost_first_battle"}],unitFailureEffects:[]}],on=Object.freeze(Object.defineProperty({__proto__:null,ENCOUNTERS:rn},Symbol.toStringTag,{value:"Module"})),an=[{id:"slime",name:"Slime",health:5,mana:1,description:"Oozing around",skills:["mana_attack"],completionEffects:[{type:"increase_value",itemID:"mana_shard_0",amount:1,chance:.1}]}],ln=Object.freeze(Object.defineProperty({__proto__:null,ENEMIES:an},Symbol.toStringTag,{value:"Module"})),sn=[{id:"avoid",name:"Avoid Danger",category:"officebuilding",description:"Survive to the next day by avoiding danger.",flavorText:"Knowing the ins and outs of the office building, you decide to hide from the monsters until help arrives.",globalEffects:[{type:"increase_value",resourceID:"days",amount:1}],unitEffects:[],prerequisites:[{resourceID:"regressions",maxValue:0},{resourceID:"days",valueLessThanMax:!0}]},{id:"battle",name:"Battle",category:"officebuilding",description:"Fight your way out of the office building.",flavorText:"More monsters have come through the dungeon gate and you can no longer find a safe place to hide. The only way out is past the monsters.",globalEffects:[{type:"start_encounter",encounterID:"first"}],unitEffects:[],maxExecutions:1,prerequisites:[{resourceID:"regressions",maxValue:0},{resourceID:"days",valueEqualToMax:!0}]},{id:"awaken",name:"Awaken",category:"officebuilding",description:"Awaken your latent abilities.",flavorText:"There are stories of people who have awakened their abilities in times of crisis. With the clarity of imminent death, you focus your mind and reach for the sleeping power within you.",globalEffects:[],unitEffects:[{type:"increase_max",target:"mainCharacter",stat:"mana",amount:1},{type:"increase_value",target:"mainCharacter",stat:"mana",amount:1}],maxExecutions:1,prerequisites:[{resourceID:"regressions",maxValue:0},{metaProgressionID:"lost_first_battle"}]},{id:"loop",name:"Loop",category:"officebuilding",description:"Regress to the past.",flavorText:"This unknown power allows you to regress to the past. You can use this power to try again.",globalEffects:[{type:"loop"}],unitEffects:[],prerequisites:[{resourceID:"regressions",maxValue:0},{unit:"mainCharacter",unitStat:"mana",minMax:1}]}],un=Object.freeze(Object.defineProperty({__proto__:null,ACTIONS:sn},Symbol.toStringTag,{value:"Module"})),cn=[{id:"mana_shard_0",name:"Mana Shard 0",description:"A shard of very low quality mana."},{id:"mana_shard_1",name:"Mana Shard 1",description:"A shard of low quality mana."},{id:"mana_shard_2",name:"Mana Shard 2",description:"A shard of medium quality mana."},{id:"mana_shard_3",name:"Mana Shard 3",description:"A shard of high quality mana."},{id:"mana_shard_4",name:"Mana Shard 4",description:"A shard of very high quality mana."},{id:"mana_shard_5",name:"Mana Shard 5",description:"A shard of superior quality mana."},{id:"mana_shard_6",name:"Mana Shard 6",description:"A shard of pure mana."}],fn=Object.freeze(Object.defineProperty({__proto__:null,ITEMS:cn},Symbol.toStringTag,{value:"Module"})),dn=[{id:"basic_attack",name:"Basic Attack",type:"active",delay:2,globalCosts:[],unitCosts:[],globalEffects:[],unitEffects:[{type:"damage",amount:.1,target:"enemy",stat:"health"}]},{id:"mana_attack",name:"Mana-Enhanced Attack",type:"active",delay:2,globalCosts:[],unitCosts:[{target:"self",stat:"mana",amount:.1}],globalEffects:[],unitEffects:[{type:"damage",amount:1,target:"enemy",stat:"health"}]}],hn=Object.freeze(Object.defineProperty({__proto__:null,SKILLS:dn},Symbol.toStringTag,{value:"Module"})),gn=[],mn=Object.freeze(Object.defineProperty({__proto__:null,PROGRESSION:gn},Symbol.toStringTag,{value:"Module"})),yn=[{id:"lost_first_battle"}],bn=Object.freeze(Object.defineProperty({__proto__:null,METAPROGRESSION:yn},Symbol.toStringTag,{value:"Module"})),vn=[{id:"officebuilding",name:"Office Building",description:"A dungeon gate appeared in the basement of the office building you work in. Monsters have broken out of the dungeon gate and are roaming the office building."}],_n=Object.freeze(Object.defineProperty({__proto__:null,CATEGORIES:vn},Symbol.toStringTag,{value:"Module"})),ft=[],Le=[],dt=[],ht=[],Re=[],pn=[],gt=[],xn=[],En=[],$n=[_n,nn,on,ln,un,fn,hn,mn,bn];$n.forEach(e=>{e.CATEGORIES&&ft.push(...e.CATEGORIES),e.RESOURCES&&Le.push(...e.RESOURCES),e.ENCOUNTERS&&dt.push(...e.ENCOUNTERS),e.ENEMIES&&ht.push(...e.ENEMIES),e.ACTIONS&&Re.push(...e.ACTIONS),e.ITEMS&&pn.push(...e.ITEMS),e.SKILLS&&gt.push(...e.SKILLS),e.PROGRESSION&&xn.push(...e.PROGRESSION),e.META_PROGRESSION&&En.push(...e.META_PROGRESSION)});const wn=ft,In=Le,R=Le.reduce((e,t)=>(e[t.id]=t,e),{}),Se=dt.reduce((e,t)=>(e[t.id]=t,e),{}),mt=ht.reduce((e,t)=>(e[t.id]=t,e),{}),yt=Re,Z=Re.reduce((e,t)=>(e[t.id]=t,e),{}),z=gt.reduce((e,t)=>(e[t.id]=t,e),{}),Sn={count:0,resources:{},actions:{},items:{},party:{},activeParty:[],encounter:null,logs:[],theme:"system",tabs:["actions","encounter","inventory","config"],activeTab:en,progression:{},metaProgression:{}};function G(e,t,n){return Math.min(Math.max(e,t),n)}function An(){const[e,t]=qt(Sn),n={increment:()=>t("count",r=>r+1),decrement:()=>t("count",r=>r-1),initialize:r=>{t("party",E,{id:E,name:"Player",health:{value:5,max:10},mana:{value:0,max:0},skills:["basic_attack"]}),t("activeParty",[E]),In.forEach(i=>{t("resources",i.id,{visible:r.computeVisibility(i.id),value:i.baseValue,max:i.baseMax})}),yt.forEach(i=>{t("actions",i.id,{visible:r.computeVisibility(i.id),executions:0})})},computeVisibility:r=>{const i=Cn(e,r);return r in R&&t("resources",r,{visible:i}),r in Z&&t("actions",r,{visible:i}),i},computeEnabled:r=>$e(e,r),applyGlobalEffects:function(r){r.forEach(i=>{n.applyGlobalEffect(i)})},applyGlobalEffect:function(r){Dn(e,t,n,r)},applyUnitEffects:function(r){r.forEach(i=>{n.applyUnitEffect(i)})},applyUnitEffect:function(r){On(e,t,n,r)},doAction:r=>{Mn(e,t,n,r)},addLog:r=>{t("logs",i=>[...i,r])},runEncounter:r=>{jn(e,t,n,r)},setTheme:r=>{t("theme",r)},setActiveTab:r=>{t("activeTab",r)},setProgression:r=>{t("progression",r,!0)},setMetaProgression:r=>{t("metaProgression",r,!0)}};return[e,n]}function Cn(e,t){if(t in R){let n=!1;return t in e.resources&&(n=e.resources[t].visible&&!R[t].hidden&&e.resources[t].max!==0),n||$e(e,t)}if(t in Z){let n=!1;return t in e.actions&&(n=e.actions[t].visible),n||$e(e,t)}return!1}function $e(e,t){let n=[];t in Z&&(n=Z[t].prerequisites);let r=!1;return!n||n.length===0?r=!0:r=n.every(i=>{if(i.resourceID){const o=e.resources[i.resourceID];if(!o||i.minValue!==void 0&&o.value<i.minValue||i.maxValue!==void 0&&o.value>i.maxValue||i.minMax!==void 0&&o.max!==void 0&&o.max<i.minMax||i.maxMax!==void 0&&o.max!==void 0&&o.max>i.maxMax||i.valueLessThanMax&&o.max!==void 0&&o.value>=o.max||i.valueGreaterThanZero&&o.value<=0||i.valueEqualToMax&&o.max!==void 0&&o.value!==o.max)return!1}if(i.actionID){const o=e.actions[i.actionID];if(!o||(console.log("act state: visible ="+o.visible+", executions = "+o.executions),i.actionMinExecutions!==void 0&&o.executions<i.actionMinExecutions)||i.actionMaxExecutions!==void 0&&o.executions>i.actionMaxExecutions)return!1}if(i.progressionID&&!e.progression[i.progressionID]||i.metaProgressionID&&!e.metaProgression[i.metaProgressionID])return!1;if(i.unit&&i.unitStat&&i.unit==="mainCharacter"){const o=e.party[E];if(!o||i.unitStat==="health"&&(i.minValue!==void 0&&o.health.value<i.minValue||i.maxValue!==void 0&&o.health.value>i.maxValue||i.minMax!==void 0&&o.health.max<i.minMax||i.maxMax!==void 0&&o.health.max>i.maxMax)||i.unitStat==="mana"&&(i.minValue!==void 0&&o.mana.value<i.minValue||i.maxValue!==void 0&&o.mana.value>i.maxValue||i.minMax!==void 0&&o.mana.max<i.minMax||i.maxMax!==void 0&&o.mana.max>i.maxMax))return!1}return!0}),t in e.actions&&Z[t].maxExecutions&&e.actions[t].executions>=Z[t].maxExecutions&&(r=!1),r}function Dn(e,t,n,r){switch(r.type){case"increase_value":if(console.log("increase_value"),r.resourceID){if(n.addLog("Increase value "+r.resourceID+" "+r.amount),r.chance!==void 0&&Math.random()>r.chance)return;t("resources",r.resourceID,"value",a=>{let s=a+(r.amount||0),u=e.resources[r.resourceID||""]?.max||0;return u!==-1&&(s=G(s,0,u)),s})}if(r.itemID){if(n.addLog("Increase value "+r.itemID+" "+r.amount),r.chance!==void 0&&Math.random()>r.chance)return;t("items",r.itemID,a=>{const s=a||{amount:0},u=s.amount+(r.amount||0);return{...s,amount:u}})}break;case"increase_max":if(console.log("increase_max"),r.resourceID){if(n.addLog("Increase max "+r.resourceID+" "+r.amount),e.resources[r.resourceID||""]?.max===-1){console.log("Cannot increase max for resource "+r.resourceID+" because it has a max of -1.");return}t("resources",r.resourceID,a=>{const s=a||{value:0,max:0},u=s.max+(r.amount||0),f=G(s.value,0,u);return{...s,max:u,value:f}})}break;case"start_encounter":if(e.party[E].health.value<=0){n.addLog("Cannot start encounter with 0 health.");return}n.addLog("Start encounter");const i=r.encounterID;if(!i){console.log("no encounter id found");return}const o=Se[i];if(console.log(o),!o){console.log("no encounter found");return}let l={encounterID:i,currentEnemyIndex:0,allies:e.activeParty.reduce((a,s)=>(a[s]={delay:0},a),{}),enemies:[]};console.log(l),t("encounter",l),n.setActiveTab("encounter");break;case"enable_progression":if(!r.progressionID){console.log("no progression id found");return}n.setProgression(r.progressionID);break;case"enable_meta_progression":if(!r.metaProgressionID){console.log("no meta progression id found");return}n.setMetaProgression(r.metaProgressionID);break;case"loop":console.log("looping");for(const a of Object.keys(e.resources))t("resources",a,"value",0);for(const a of Object.keys(e.actions))t("actions",a,"executions",0);t("resources","regressions","value",a=>a+1),t("progression",{});break}}function On(e,t,n,r){const i=r.config,o=r.options;console.log("applyUnitEffectConfig: "+JSON.stringify(i)),console.log("applyUnitEffectOptions: "+JSON.stringify(o)),i.type==="increase_value"&&i.target==="mainCharacter"&&(i.stat==="health"&&t("party",E,"health",l=>{const a=l||{value:0,max:0},s=G(a.value+(i.amount||0),0,a.max);return{...a,value:s}}),i.stat==="mana"&&t("party",E,"mana",l=>{const a=l||{value:0,max:0},s=G(a.value+(i.amount||0),0,a.max);return{...a,value:s}})),i.type==="increase_max"&&i.target==="mainCharacter"&&(i.stat==="health"&&t("party",E,"health",l=>{const a=l||{value:0,max:0},s=a.max+(i.amount||0),u=G(a.value,0,s);return{...a,max:s,value:u}}),i.stat==="mana"&&t("party",E,"mana",l=>{const a=l||{value:0,max:0},s=a.max+(i.amount||0),u=G(a.value,0,s);return{...a,max:s,value:u}})),i.type==="damage"&&(i.target==="mainCharacter"&&t("party",E,"health","value",l=>G(l-(i.amount||0),0,e.party[E].health.max)),o.targetAllyPartyUnitIDs&&o.targetAllyPartyUnitIDs.forEach(l=>{t("party",l,"health","value",a=>{const s=e.party[l];return s?G(a-(i.amount||0),0,s.health.max):a})}),o.targetEnemyPartyUnitIDs&&o.targetEnemyPartyUnitIDs.forEach(l=>{t("encounter","enemies",l,"health","value",a=>{const s=e.encounter?.enemies[l];return s?G(a-(i.amount||0),0,s.health.max):a})}))}function Mn(e,t,n,r){if(e.encounter!==null){n.addLog("Cannot perform another action while in an encounter.");return}if(e.actions[r.id]||t("actions",r.id,{executions:0}),r.maxExecutions&&e.actions[r.id].executions>=r.maxExecutions){console.log("Action already executed max times");return}if(!$e(e,r.id)){console.log("Prerequisites not met");return}t("actions",r.id,i=>({...i,executions:i.executions+1})),n.applyGlobalEffects(r.globalEffects),n.applyUnitEffects(r.unitEffects.map(i=>({config:i,options:{}})))}function Tn(e){if(e.encounter===null)return!1;const t=Se[e.encounter.encounterID];return t?e.encounter.currentEnemyIndex>=t.numberOfEnemies:!1}function kn(e){return e.encounter===null?!1:e.activeParty.every(t=>e.party[t].health.value<=0)}function Pn(e,t,n){if(e.encounter===null||e.encounter.enemies.length>0)return;const r=Se[e.encounter.encounterID];if(!r||e.encounter.currentEnemyIndex>=r.numberOfEnemies)return;let i="";r.order=="random"?i=r.enemies[Math.floor(Math.random()*r.enemies.length)]:r.order=="sequential"&&(i=r.enemies[e.encounter.currentEnemyIndex]);const o=mt[i],l={enemyID:o.id,health:{value:o.health,max:o.health},mana:{value:o.mana,max:o.mana},delay:0};t("encounter","enemies",[l]),r.order=="random"&&n.addLog("Enemy spawned: "+o.name)}function Nn(e,t){e.encounter===null||e.encounter.enemies.length===0||e.encounter.enemies[0].health.value<=0&&(t("encounter","enemies",[]),t("encounter","currentEnemyIndex",n=>n+1))}function jn(e,t,n,r){if(e.encounter===null||(Pn(e,t,n),e.encounter.enemies.length===0))return;Object.entries(e.encounter.allies).forEach(([o,l])=>{if(l.skillID===void 0){const a=e.party[o];if(!a)return;const s=a.skills[Math.floor(Math.random()*a.skills.length)];t("encounter","allies",o,"skillID",s)}}),e.encounter.enemies.forEach((o,l)=>{if(o.skillID===void 0){const a=mt[o.enemyID],s=a.skills[Math.floor(Math.random()*a.skills.length)];t("encounter","enemies",l,"skillID",s)}}),Object.keys(e.encounter.allies).forEach(o=>{t("encounter","allies",o,"delay",l=>(l||0)+r)}),e.encounter.enemies.forEach((o,l)=>{t("encounter","enemies",l,"delay",a=>(a||0)+r)}),Object.entries(e.encounter.allies).forEach(([o,l])=>{const a=l.skillID;if(!a)return;const s=z[a];l.delay>=s.delay&&(s.unitEffects.forEach(u=>{let f={allyPartyUnitID:o};if(u.target=="enemy"){const c=Math.floor(Math.random()*e.encounter.enemies.length);f.targetEnemyPartyUnitIDs=[c]}if(u.target=="enemies"&&(f.targetEnemyPartyUnitIDs=e.encounter.enemies.map((c,m)=>m)),u.target=="ally"){const c=Object.keys(e.encounter.allies),m=c[Math.floor(Math.random()*c.length)];f.targetAllyPartyUnitIDs=[m]}u.target=="allies"&&(f.targetAllyPartyUnitIDs=Object.keys(e.encounter.allies)),u.target=="all"&&(f.targetAllyPartyUnitIDs=Object.keys(e.encounter.allies),f.targetEnemyPartyUnitIDs=e.encounter.enemies.map((c,m)=>m)),n.applyUnitEffect({config:u,options:f})}),t("encounter","allies",o,"delay",u=>(u||0)-s.delay),t("encounter","allies",o,"skillID",void 0),Nn(e,t))}),e.encounter.enemies.forEach((o,l)=>{const a=o.skillID;if(!a)return;const s=z[a];o.delay>=s.delay&&(s.unitEffects.forEach(u=>{let f={enemyPartyUnitID:l};if(u.target=="ally"){const c=Math.floor(Math.random()*e.encounter.enemies.length);f.targetEnemyPartyUnitIDs=[c]}if(u.target=="allies"&&(f.targetEnemyPartyUnitIDs=e.encounter.enemies.map((c,m)=>m)),u.target=="enemy"){const c=Object.keys(e.encounter.allies),m=c[Math.floor(Math.random()*c.length)];f.targetAllyPartyUnitIDs=[m]}u.target=="enemies"&&(f.targetAllyPartyUnitIDs=Object.keys(e.encounter.allies)),u.target=="all"&&(f.targetAllyPartyUnitIDs=Object.keys(e.encounter.allies),f.targetEnemyPartyUnitIDs=e.encounter.enemies.map((c,m)=>m)),n.applyUnitEffect({config:u,options:f})}),t("encounter","enemies",l,"delay",u=>(u||0)-s.delay),t("encounter","enemies",l,"skillID",void 0))});const i=Se[e.encounter.encounterID];if(Tn(e)){n.applyGlobalEffects(i.globalCompletionEffects),n.applyUnitEffects(i.unitCompletionEffects.map(o=>({config:o,options:{}}))),i.globalCompletionEffects.some(o=>o.type==="start_encounter")||t("encounter",null),n.addLog("Encounter completed");return}if(kn(e)){n.applyGlobalEffects(i.globalFailureEffects),n.applyUnitEffects(i.unitFailureEffects.map(o=>({config:o,options:{}}))),t("encounter",null),n.addLog("Encounter failed");return}}const bt=wt(void 0);function Ln(e){const t=An();return h(bt.Provider,{value:t,get children(){return e.children}})}function te(){const e=It(bt);if(!e)throw new Error("useState must be used within a StateProvider");return e}function x(e,t){return e==null?"0.00":t?e.toFixed(0):e.toFixed(2)}const Rn="_actionContainer_1bjt2_1",Un="_actionContent_1bjt2_7",de={actionContainer:Rn,actionContent:Un},Gn="_detailsContainer_13o15_1",Vn="_detailsHeader_13o15_5",Fn="_detailsHeaderContent_13o15_13",Bn="_toggleButton_13o15_17",Hn="_expandedDetails_13o15_36",ne={detailsContainer:Gn,detailsHeader:Vn,detailsHeaderContent:Fn,toggleButton:Bn,expandedDetails:Hn};var zn=b('<button aria-label="Toggle details"type=button>'),Yn=b("<div>"),Kn=b("<div><div><div>");const vt=e=>{const[t,n]=X(e.startOpen||!1);return(()=>{var r=Kn(),i=r.firstChild,o=i.firstChild;return g(o,()=>e.summary),g(i,h(O,{get when(){return e.children},get children(){var l=zn();return l.$$click=a=>{a.stopPropagation(),n(!t())},g(l,()=>t()?"▼":"▶"),$(()=>y(l,ne.toggleButton)),l}}),null),g(r,h(O,{get when(){return F(()=>!!t())()&&e.children},get children(){var l=Yn();return g(l,()=>e.children),$(()=>y(l,ne.expandedDetails)),l}}),null),$(l=>{var a=ne.detailsContainer,s=ne.detailsHeader,u=ne.detailsHeaderContent;return a!==l.e&&y(r,l.e=a),s!==l.t&&y(i,l.t=s),u!==l.a&&y(o,l.a=u),l},{e:void 0,t:void 0,a:void 0}),r})()};ce(["click"]);var Xn=b("<ul>"),Wn=b("<li>");const Jn=e=>{const t=n=>{const r=[];return n.resourceID&&(r.push(`Resource: ${n.resourceID}`),n.minValue!==void 0&&r.push(`min value: ${n.minValue}`),n.maxValue!==void 0&&r.push(`max value: ${n.maxValue}`),n.minMax!==void 0&&r.push(`min max: ${n.minMax}`),n.maxMax!==void 0&&r.push(`max max: ${n.maxMax}`),n.valueGreaterThanZero&&r.push("value > 0"),n.valueLessThanMax&&r.push("value < max"),n.valueEqualToMax&&r.push("value = max")),n.actionID&&(r.push(`Action: ${n.actionID}`),n.actionMinExecutions!==void 0&&r.push(`min executions: ${n.actionMinExecutions}`),n.actionMaxExecutions!==void 0&&r.push(`max executions: ${n.actionMaxExecutions}`)),n.unit&&(r.push(`Unit: ${n.unit}`),n.unitStat&&r.push(`stat: ${n.unitStat}`)),r.join(", ")};return(()=>{var n=Xn();return g(n,h(Te,{get each(){return e.prerequisites},children:r=>(()=>{var i=Wn();return g(i,()=>t(r)),i})()})),n})()},Zn="_button_vfzl9_1",Qn="_disabled_vfzl9_22",We={button:Zn,disabled:Qn};var qn=b("<div role=button>");const er=e=>(()=>{var t=qn();return t.$$click=n=>{!e.disabled&&e.onClick&&e.onClick()},g(t,()=>e.children),$(n=>{var r=`${We.button} ${e.disabled?We.disabled:""} ${e.class||""}`,i=e.disabled;return r!==n.e&&y(t,n.e=r),i!==n.t&&jt(t,"aria-disabled",n.t=i),n},{e:void 0,t:void 0}),t})();ce(["click"]);var we=b("<div>"),tr=b("<span><b></b><p>"),nr=b("<p>"),rr=b("<div><strong>Prerequisites:"),ir=b("<span><b></b><hr>");const or=()=>(()=>{var e=we();return g(e,h(ue,{each:wn,children:t=>h(ar,{category:t})})),e})(),ar=e=>{const t=e.category;return(()=>{var n=we();return g(n,h(vt,{startOpen:!0,get summary(){return(()=>{var r=tr(),i=r.firstChild,o=i.nextSibling;return g(i,()=>t().name),g(o,()=>t().description),r})()},get children(){return h(ue,{get each(){return yt.filter(r=>r.category===t().id)},children:r=>h(lr,{item:r})})}})),n})()},lr=e=>{const[t,n]=te(),r=e.item;return h(O,{get when(){return n.computeVisibility(r().id)},get children(){var i=we();return g(i,h(er,{get disabled(){return!n.computeEnabled(r().id)},onClick:()=>n.doAction(r()),get children(){var o=we();return g(o,h(vt,{get summary(){return(()=>{var l=ir(),a=l.firstChild;return a.nextSibling,g(a,()=>r().name),g(l,()=>r().description,null),l})()},get children(){return[h(O,{get when(){return r().flavorText},get children(){var l=nr();return g(l,()=>r().flavorText),$(()=>y(l,de.flavorText)),l}}),h(O,{get when(){return r().prerequisites.length>0},get children(){var l=rr();return l.firstChild,g(l,h(Jn,{get prerequisites(){return r().prerequisites}}),null),$(()=>y(l,de.prerequisites)),l}})]}})),$(()=>y(o,de.actionContent)),o}})),$(()=>y(i,de.actionContainer)),i}})},sr="_encounter_jz6zl_1",ur={encounter:sr},cr="_progressBar_dmti8_33",fr="_barText_dmti8_46",dr="_progressFill_dmti8_65",hr="_healthFill_dmti8_70",gr="_health_dmti8_70",mr="_mana_dmti8_79",yr="_delay_dmti8_84",re={progressBar:cr,barText:fr,progressFill:dr,healthFill:hr,health:gr,mana:mr,delay:yr};var br=b("<div><div></div><div>");const J=e=>{const t=()=>e.max>0?e.value/e.max:0,n=()=>e.easing??1,r=()=>Math.pow(t(),n())*100;return(()=>{var i=br(),o=i.firstChild,l=o.nextSibling;return g(l,()=>e.label),$(a=>{var s=re.progressBar,u=`${re.progressFill} ${re[e.type]} ${e.isHealth?re.healthFill:""}`,f=`${r()}%`,c=re.barText;return s!==a.e&&y(i,a.e=s),u!==a.t&&y(o,a.t=u),f!==a.a&&Rt(o,"width",a.a=f),c!==a.o&&y(l,a.o=c),a},{e:void 0,t:void 0,a:void 0,o:void 0}),i})()};var vr=b('<div style="border:1px solid black;width:360px;margin:0 auto">'),_r=b("<div>No encounter active."),pr=b("<div><b>Encounter"),xr=b("<div style=text-align:right><div><b>"),Er=b("<div style=text-align:left><div><b>");const $r=()=>{const[e]=te(),t=M(()=>Object.entries(e.encounter?.allies??{}));return(()=>{var n=pr();return n.firstChild,g(n,h(O,{get when(){return e.encounter!==null},get children(){var r=vr();return g(r,h(Te,{get each(){return e.encounter?.enemies},children:i=>(()=>{var o=xr(),l=o.firstChild,a=l.firstChild;return g(a,()=>i.enemyID),g(o,h(J,{get value(){return i.health.value},get max(){return i.health.max},get label(){return`HP: ${x(i.health.value)} / ${x(i.health.max)}`},type:"health",easing:.7,isHealth:!0}),null),g(o,h(O,{get when(){return(i.mana.max??0)>0},get children(){return h(J,{get value(){return i.mana.value},get max(){return i.mana.max},get label(){return`MP: ${x(i.mana.value)} / ${x(i.mana.max)}`},type:"mana"})}}),null),g(o,h(J,{get value(){return i.delay},get max(){return F(()=>!!i.skillID)()?z[i.skillID].delay:0},get label(){return F(()=>!!i.skillID)()?`${z[i.skillID].name}: ${x(i.delay)} / ${x(z[i.skillID].delay)}`:"Wait"},type:"delay"}),null),o})()}),null),g(r,h(Te,{get each(){return t()},children:([i,o])=>{const l=e.party[i];return(()=>{var a=Er(),s=a.firstChild,u=s.firstChild;return g(u,()=>l.name),g(a,h(J,{get value(){return l.health.value},get max(){return l.health.max},get label(){return`HP: ${x(l.health.value)} / ${x(l.health.max)}`},type:"health",easing:.7,isHealth:!0}),null),g(a,h(O,{get when(){return(l.mana.max??0)>0},get children(){return h(J,{get value(){return l.mana.value},get max(){return l.mana.max},get label(){return`MP: ${x(l.mana.value)} / ${x(l.mana.max)}`},type:"mana"})}}),null),g(a,h(J,{get value(){return o.delay},get max(){return F(()=>!!o.skillID)()?z[o.skillID].delay:0},get label(){return F(()=>!!o.skillID)()?`${z[o.skillID].name}: ${x(o.delay)} / ${x(z[o.skillID].delay)}`:"Wait"},type:"delay"}),null),a})()}}),null),r}}),null),g(n,h(O,{get when(){return e.encounter===null},get children(){return _r()}}),null),$(()=>y(n,ur.encounter)),n})()};var wr=b("<div><b>Inventory"),Ir=b("<div>");const Sr=()=>{const[e]=te(),t=M(()=>Object.entries(e.items));return(()=>{var n=wr();return n.firstChild,g(n,h(ue,{get each(){return t()},children:(r,i)=>(()=>{var o=Ir();return g(o,()=>r()[1].amount+" "+r()[1].id),o})()}),null),n})()},Ar="_log_content_1fyxs_1",Cr={log_content:Ar};var Je=b("<div>");const Dr=()=>{const[e]=te(),t=new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return(()=>{var n=Je();return g(n,h(ue,{get each(){return e.logs},children:(r,i)=>(()=>{var o=Je();return g(o,()=>"["+t.format(Date.now())+"] "+r()),o})()})),$(()=>y(n,Cr.log_content)),n})()};var Or=b('<div style=display:flex;align-items:center;gap:8px;font-size:14px><label for=theme-select>Theme:</label><select id=theme-select style="padding:2px 4px;border-radius:4px;border:1px solid var(--border-color);background:var(--section-bg);color:var(--text-color);cursor:pointer"><option value=system>System</option><option value=light>Light</option><option value=dark>Dark');const Mr=()=>{const[e,t]=te();return(()=>{var n=Or(),r=n.firstChild,i=r.nextSibling;return i.$$input=o=>t.setTheme(o.currentTarget.value),$(()=>i.value=e.theme),n})()};ce(["input"]);var Tr=b('<div style=display:flex;flex-direction:column;gap:20px><h3>Configuration</h3><section style="display:flex;flex-direction:column;gap:10px;padding:15px;border:1px solid var(--border-color);background:var(--section-bg);border-radius:8px"><h4 style=margin:0>Appearance');const kr=()=>(()=>{var e=Tr(),t=e.firstChild,n=t.nextSibling;return n.firstChild,g(n,h(Mr,{}),null),e})(),Pr="_landing_g7s4w_1",Nr="_content_g7s4w_48",jr="_title_g7s4w_68",Lr="_description_g7s4w_103",Rr="_subdescription_g7s4w_115",Ur="_startButton_g7s4w_127",Gr="_buttonText_g7s4w_155",Vr="_buttonGlow_g7s4w_160",H={landing:Pr,content:Nr,title:jr,description:Lr,subdescription:Rr,startButton:Ur,buttonText:Gr,buttonGlow:Vr};var Fr=b("<div><div><h1>Yet Another Regressor Idle</h1><p>This is a vibe-coded idle/incremental game that attempts to capture the feeling of being the main character of a regression manhwa, with <i>Leveling with the Gods</i> and <i>Max Level Player's 100th Regression</i> as the main sources of inspiration.</p><p>TODO:<br>* No saving/persistence.</p><button><span>Start Game</span><span>");const Br=e=>(()=>{var t=Fr(),n=t.firstChild,r=n.firstChild,i=r.nextSibling,o=i.nextSibling,l=o.nextSibling,a=l.firstChild,s=a.nextSibling;return Lt(l,"click",e.onStartGame),$(u=>{var f=H.landing,c=H.content,m=H.title,v=H.description,w=H.subdescription,I=H.startButton,k=H.buttonText,P=H.buttonGlow;return f!==u.e&&y(t,u.e=f),c!==u.t&&y(n,u.t=c),m!==u.a&&y(r,u.a=m),v!==u.o&&y(i,u.o=v),w!==u.i&&y(o,u.i=w),I!==u.n&&y(l,u.n=I),k!==u.s&&y(a,u.s=k),P!==u.h&&y(s,u.h=P),u},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),t})();ce(["click"]);var Ce=b("<div>"),Hr=b("<div>Health <!> / "),zr=b("<div>Mana <!> / "),Yr=b("<div><header><span>Yet Another Regressor Idle</span></header><nav><button>Actions</button><button>Encounter</button><button>Inventory</button><button>Config</button></nav><div><div></div><aside><b>Resources</b><br><b>Stats"),Kr=b("<span>");const Xr=()=>{const[e,t]=te(),[n,r]=X(null),[i,o]=X(null),l=f=>{console.log("Switching tab");const c=e.tabs.indexOf(e.activeTab);f==="right"&&c>0?t.setActiveTab(e.tabs[c-1]):f==="left"&&c<e.tabs.length-1&&t.setActiveTab(e.tabs[c+1])},a=f=>{r(f.touches[0].clientX),o(f.touches[0].clientY)},s=f=>{const c=n(),m=i();if(c===null||m===null)return;const v=f.changedTouches[0].clientX,w=f.changedTouches[0].clientY,I=v-c,k=w-m;Math.abs(I)>Math.abs(k)&&Math.abs(I)>50&&(I>0?l("right"):l("left")),r(null),o(null)};qe(()=>{let f="dark";e.theme==="system"?f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":f=e.theme,document.documentElement.setAttribute("data-theme",f)}),$t(()=>{t.initialize(t);let f=Date.now()/1e3;const c=setInterval(()=>{let m=Date.now()/1e3;const v=m-f;f=m,t.runEncounter(v)},50);Ne(()=>clearInterval(c))});const u=M(()=>Object.entries(e.resources));return(()=>{var f=Yr(),c=f.firstChild,m=c.nextSibling,v=m.firstChild,w=v.nextSibling,I=w.nextSibling,k=I.nextSibling,P=m.nextSibling,A=P.firstChild,S=A.nextSibling,N=S.firstChild,U=N.nextSibling;return U.nextSibling,v.$$click=()=>t.setActiveTab("actions"),w.$$click=()=>t.setActiveTab("encounter"),I.$$click=()=>t.setActiveTab("inventory"),k.$$click=()=>t.setActiveTab("config"),A.$$touchend=s,A.$$touchstart=a,g(A,h(kt,{get children(){return[h(fe,{get when(){return e.activeTab==="actions"},get children(){return h(or,{})}}),h(fe,{get when(){return e.activeTab==="encounter"},get children(){return h($r,{})}}),h(fe,{get when(){return e.activeTab==="inventory"},get children(){return h(Sr,{})}}),h(fe,{get when(){return e.activeTab==="config"},get children(){return h(kr,{})}})]}})),g(P,h(O,{get when(){return e.activeTab==="actions"||e.activeTab==="encounter"},get children(){var d=Ce();return g(d,h(Dr,{})),$(()=>y(d,D.logs)),d}}),S),g(S,h(ue,{get each(){return u()},children:d=>(()=>{var L=Kr();return g(L,h(O,{get when(){return F(()=>!!(R[d()[0]].type==="basic"&&t.computeVisibility(d()[0])))()&&d()[1].max!==-1},get children(){var T=Ce();return g(T,()=>R[d()[0]].name+" "+x(d()[1].value,R[d()[0]].wholeNumbers)+" / "+x(d()[1].max,R[d()[0]].wholeNumbers)),T}}),null),g(L,h(O,{get when(){return F(()=>!!(R[d()[0]].type==="basic"&&t.computeVisibility(d()[0])))()&&d()[1].max===-1},get children(){var T=Ce();return g(T,()=>R[d()[0]].name+" "+x(d()[1].value,R[d()[0]].wholeNumbers)),T}}),null),L})()}),U),g(S,h(O,{get when(){return F(()=>!!e.party[E])()&&(e.party[E].health.max??0)>0},get children(){var d=Hr(),L=d.firstChild,T=L.nextSibling;return T.nextSibling,g(d,()=>x(e.party[E].health.value,!1),T),g(d,()=>x(e.party[E].health.max,!1),null),d}}),null),g(S,h(O,{get when(){return F(()=>!!e.party[E])()&&(e.party[E].mana.max??0)>0},get children(){var d=zr(),L=d.firstChild,T=L.nextSibling;return T.nextSibling,g(d,()=>x(e.party[E].mana.value,!1),T),g(d,()=>x(e.party[E].mana.max,!1),null),d}}),null),$(d=>{var L=D.App,T=D.header,Ue=D.tab_nav,Ge=`${D.tab_button} ${e.activeTab==="actions"?D.tab_active:""} `,Ve=`${D.tab_button} ${e.activeTab==="encounter"?D.tab_active:""} `,Fe=`${D.tab_button} ${e.activeTab==="inventory"?D.tab_active:""} `,Be=`${D.tab_button} ${e.activeTab==="config"?D.tab_active:""} `,He=D.main_container,ze=D.tab_content,Ye=D.stats;return L!==d.e&&y(f,d.e=L),T!==d.t&&y(c,d.t=T),Ue!==d.a&&y(m,d.a=Ue),Ge!==d.o&&y(v,d.o=Ge),Ve!==d.i&&y(w,d.i=Ve),Fe!==d.n&&y(I,d.n=Fe),Be!==d.s&&y(k,d.s=Be),He!==d.h&&y(P,d.h=He),ze!==d.r&&y(A,d.r=ze),Ye!==d.d&&y(S,d.d=Ye),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),f})()},Wr=()=>{const[e,t]=X(!1),n=()=>{t(!0)};return h(O,{get when(){return e()},get fallback(){return h(Br,{onStartGame:n})},get children(){return h(Xr,{})}})};ce(["click","touchstart","touchend"]);const Jr=document.getElementById("root");Nt(()=>h(Ln,{get children(){return h(Wr,{})}}),Jr);
